# 고객 정보 제공 범위 및 응답 설계 명세서

## 문서 목적
UI 개발 전, 고객과 개발팀 모두가 **"이 시스템이 정확히 무엇을 제공하는지"**에 대해 완전히 합의하기 위한 문서.

---

## 1. 고객에게 제공할 정보 범위 정의

### 1.1 가능한 질문 유형

#### ✅ 현재 지원 가능
1. **담보 조건 비교** (예제 2)
   - 특정 담보의 보장 내용 비교
   - 보장 한도, 기간, 지급 조건 차이
   - 예: "암진단비 담보를 보험사별로 비교해줘"

2. **보장 가능 여부 확인** (예제 4)
   - 특정 질병/수술이 보장되는지 O/X 확인
   - 상품별 보장 범위 차이
   - 예: "제자리암이 보장되는 상품은?"

3. **상품 종합 비교** (예제 3)
   - 여러 상품의 전체 담보 구조 비교
   - 주요 보장 항목별 차이점
   - 예: "삼성생명과 메리츠 상품의 차이점은?"

4. **특정 담보 존재 여부**
   - 어떤 상품에 특정 담보가 있는지 확인
   - 보험사별 담보명 차이 파악
   - 예: "표적항암약물허가치료비가 있는 상품은?"

#### ⚠️ 제한적 지원 (데이터 부족)
1. **보험료 비교** (예제 1)
   - **현재 상태**: 가입설계서에서 추출한 예시 보험료만 존재
   - **제공 가능**: "예시 보험료" 또는 "참고용 금액"으로만 제공
   - **명확한 제한**: 개인별 맞춤 계산 불가, 비교용 참고치임을 명시

#### ❌ 현재 불가능한 질문
1. **추천 요청**
   - "나한테 맞는 상품 추천해줘" → 거부
   - 이유: 시스템은 비교·설명만 수행, 판단 금지

2. **개인 맞춤 보험료 계산**
   - "30세 남자 보험료 계산해줘" → 불가
   - 이유: 실시간 계산 엔진 없음, 예시 금액만 존재

3. **약관 해석 또는 법적 자문**
   - "이 조항이 법적으로 유효한가요?" → 불가
   - 이유: 보험 전문가 아님, 사실 비교만 수행

4. **미래 예측 또는 확률**
   - "이 상품이 나중에 유리할까요?" → 불가
   - 이유: 추론·예측 금지

5. **Scope 외 담보 질문**
   - "치아보험은 어때요?" → 불가
   - 이유: 현재 30~40개 담보 scope만 처리 (담보명mapping자료.xlsx 기준)

---

### 1.2 데이터 제공 기준 (투명성 원칙)

#### 응답 시 반드시 명시해야 할 사항
1. **데이터 출처**
   - "약관 XX페이지", "가입설계서 XX페이지" 등 근거 문서 표시
   - 출처가 없으면 "확인 불가" 명시

2. **비교 불가 사유**
   - 보험사별 문서 차이로 비교 불가능한 경우 명확히 설명
   - 예: "A상품은 약관에 명시, B상품은 관련 내용 미확인"

3. **불확실성 표시**
   - 데이터가 부분적이거나 불완전한 경우 경고
   - "현재 제공된 문서 기준" 문구 필수

4. **보험료 한계**
   - 모든 보험료 관련 응답에 "예시 보험료 / 비교용 참고치" 명시
   - "실제 가입 시 설계사 확인 필요" 경고 필수

---

## 2. 예제 기반 응답 설계

### 2.1 예제 1: 보험료 중심 비교 (제한적)

#### 입력 질문 예시
- "보험료가 가장 저렴한 상품은?"
- "삼성생명과 메리츠 보험료 비교해줘"
- "월 10만원 이하 상품 있어?"

#### 최종 응답 예시
```
⚠️ 보험료 비교 제한 안내
현재 보험료는 가입설계서 기준 "예시 보험료"만 제공 가능합니다.
개인별 맞춤 계산은 지원하지 않으며, 비교용 참고치로만 활용해주세요.

[보험료 비교 요약]
- 기준 조건: 가입설계서 예시 기준 (30세 남성 / 20년납 / 80세만기 가정)

[비교 표]
| 보험사 | 상품명 | 월 보험료 (예시) | 총 납입 보험료 (예시) | 비고 |
|--------|--------|------------------|----------------------|------|
| 삼성생명 | 삼성 통합건강보험 | 85,000원 | 20,400,000원 | 가입설계서 예시 |
| 메리츠화재 | 무배당 알파Plus 건강보험 | 78,000원 | 18,720,000원 | 가입설계서 예시 |

[차이 요약]
- 메리츠 상품이 예시 기준 월 7,000원 낮음
- 단, 실제 보험료는 개인별 조건(나이/성별/건강상태/특약)에 따라 변동

⚠️ 본 비교 결과는 제공된 문서 기준의 정보 요약이며,
실제 가입 판단은 보험 약관 및 설계사를 통해 최종 확인이 필요합니다.
```

#### 보험료 데이터가 없는 경우
```
❌ 보험료 비교 불가

현재 보험료 산출에 필요한 정보가 충분하지 않아
보험료 비교는 제공하지 않습니다.

담보 내용 비교나 보장 범위 확인은 가능합니다.
다른 질문을 해주세요.
```

---

### 2.2 예제 2: 담보 조건 차이 비교

#### 입력 질문 예시
- "암진단비 담보를 보험사별로 비교해줘"
- "뇌출혈 진단비 보장 조건이 어떻게 다른가요?"
- "수술비 담보의 보장 한도는?"

#### 최종 응답 예시
```
[담보 조건 비교: 암진단비]

[비교 표]
| 구분 | 삼성생명 - 삼성 통합건강보험 | 메리츠화재 - 무배당 알파Plus 건강보험 |
|------|------------------------------|--------------------------------------|
| 보장 한도 | 3,000만원 (유사암 제외) | 5,000만원 (유사암 제외) |
| 보장 기간 | 80세 만기 | 100세 만기 |
| 지급 조건 | 암 진단 확정 시 (최초 1회) | 암 진단 확정 시 (최초 1회) |
| 유사암 보장 | 별도 담보 (1,000만원) | 별도 담보 (500만원) |
| 근거 문서 | 약관 p.12, 가입설계서 p.3 | 약관 p.15, 가입설계서 p.4 |

[차이 요약]
- 메리츠 상품이 보장 한도 2,000만원 높음
- 메리츠 상품이 보장 기간 20년 길음 (100세 vs 80세)
- 유사암 보장은 삼성 상품이 500만원 높음
- 지급 조건은 두 상품 동일 (최초 1회)

⚠️ 본 비교 결과는 제공된 문서 기준의 정보 요약이며,
실제 가입 판단은 보험 약관 및 설계사를 통해 최종 확인이 필요합니다.
```

---

### 2.3 예제 3: 상품 종합 비교 (최우선 반영)

#### 입력 질문 예시
- "삼성생명과 메리츠 상품 전체 비교해줘"
- "두 상품의 주요 차이점은 뭐야?"
- "어떤 상품이 더 보장이 넓어?"

#### 최종 응답 예시
```
[상품 비교 요약]
- 비교 대상: 삼성생명 - 삼성 통합건강보험 vs 메리츠화재 - 무배당 알파Plus 건강보험
- 비교 기준: 담보 범위 / 보장 내용 / 구조 차이

---

[상품별 상세]

■ 삼성생명 | 삼성 통합건강보험

**주요 보장**
- 암 진단비: 3,000만원 (유사암 별도 1,000만원)
- 뇌출혈 진단비: 2,000만원
- 급성심근경색 진단비: 2,000만원
- 수술비: 입원 1회당 50만원
- 입원비: 일당 5만원 (120일 한도)

**특징**
- 총 41개 담보 제공 (matched: 35, unmatched: 6)
- 보장 기간: 80세 만기
- 3대 질병(암/뇌/심장) 중심 구조

**제한 사항**
- 유사암 보장은 별도 담보로 분리
- 80세 이후 보장 종료
- 일부 수술(예: 다빈치수술)은 별도 특약 필요

**근거 문서**
- 약관: 삼성생명_약관.pdf
- 가입설계서: 삼성생명_가입설계서.pdf

---

■ 메리츠화재 | 무배당 알파Plus 건강보험

**주요 보장**
- 암 진단비: 5,000만원 (유사암 별도 500만원)
- 뇌출혈 진단비: 3,000만원
- 급성심근경색 진단비: 3,000만원
- 수술비: 입원 1회당 100만원
- 입원비: 일당 10만원 (180일 한도)

**특징**
- 총 34개 담보 제공 (matched: 30, unmatched: 4)
- 보장 기간: 100세 만기
- 3대 질병 + 표적항암치료 포함

**제한 사항**
- 유사암 보장 한도가 낮음 (500만원)
- 일부 담보는 갱신형으로 보험료 증가 가능
- 보험료 예시가 30세 기준으로 제한적

**근거 문서**
- 약관: 메리츠화재_약관.pdf
- 가입설계서: 메리츠화재_가입설계서.pdf

---

[비교 결론]

**보장 한도 차이**
- 메리츠 상품이 3대 질병 진단비에서 한도가 높음 (암: +2,000만원, 뇌출혈/심근경색: +1,000만원)
- 메리츠 상품이 수술비/입원비 일당 한도가 높음 (수술: 2배, 입원: 2배)
- 삼성 상품이 유사암 보장 한도가 높음 (+500만원)

**보장 기간 차이**
- 메리츠 상품이 보장 기간이 20년 길음 (100세 vs 80세)

**담보 구조 차이**
- 삼성 상품은 41개 담보로 세분화된 구조
- 메리츠 상품은 34개 담보로 핵심 보장 중심 구조
- 메리츠 상품은 표적항암치료 담보가 기본 포함, 삼성은 별도 특약

**비교 불가 항목**
- 두 상품 모두 가입설계서에 명시되지 않은 담보 존재 (unmatched)
- 일부 수술/치료 항목은 약관에서만 확인 가능, 보장 금액 미제공

⚠️ 본 비교 결과는 제공된 문서 기준의 정보 요약이며,
실제 가입 판단은 보험 약관 및 설계사를 통해 최종 확인이 필요합니다.
```

---

### 2.4 예제 4: 보장 가능 여부 (O/X)

#### 입력 질문 예시
- "제자리암이 보장되는 상품은?"
- "표적항암치료가 가능한 상품 비교해줘"
- "다빈치수술 보장 여부 확인해줘"

#### 최종 응답 예시
```
[보장 가능 여부 비교]

질문: 제자리암, 경계성종양, 표적항암치료, 다빈치수술 보장 여부

[비교 표]
| 항목 | 삼성생명 - 삼성 통합건강보험 | 메리츠화재 - 무배당 알파Plus | KB손해보험 - KB The건강보험 |
|------|------------------------------|------------------------------|------------------------------|
| 제자리암 | O | O* | O |
| 경계성종양 | O | O | X |
| 표적항암치료 | X | O | O* |
| 다빈치수술 | O* | O | O |

**범례**
- O: 보장 가능 (약관/가입설계서에 명시)
- O*: 조건부 보장 (특약 가입 필요 또는 한도 제한)
- X: 보장 불가 또는 문서에서 확인 불가

**상세 설명**

■ 제자리암
- 삼성: 유사암 담보로 1,000만원 보장
- 메리츠: 유사암 담보로 500만원 보장 (단, 갱신형)
- KB: 유사암 담보로 1,500만원 보장

■ 경계성종양
- 삼성: 유사암에 포함 (1,000만원)
- 메리츠: 유사암에 포함 (500만원)
- KB: 약관에 명시 없음 (확인 불가)

■ 표적항암치료
- 삼성: 약관에 명시 없음 (별도 특약 가입 필요 가능성)
- 메리츠: 표적항암약물허가치료비 담보로 보장 (연 1,000만원 한도)
- KB: 표적항암 특약 가입 시 보장 (연 500만원)

■ 다빈치수술
- 삼성: 수술비 담보에 포함 (단, 입원 1회당 50만원 한도)
- 메리츠: 수술비 담보에 포함 (입원 1회당 100만원 한도)
- KB: 수술비 담보에 포함 (입원 1회당 70만원 한도)

**근거 문서**
- 삼성: 약관 p.12-15, 가입설계서 p.3
- 메리츠: 약관 p.15-18, 가입설계서 p.4
- KB: 약관 p.10-13, 가입설계서 p.2

⚠️ 본 비교 결과는 제공된 문서 기준의 정보 요약이며,
실제 가입 판단은 보험 약관 및 설계사를 통해 최종 확인이 필요합니다.
```

---

## 3. 첫 화면 UX 제안 (ChatGPT 스타일)

### 3.1 첫 화면 기본 설명 문구

```
🏥 보험 상품 비교·설명 시스템

안녕하세요!
저는 보험사의 **실제 약관·가입설계서·상품설명서**를 기반으로
사실 중심의 보험 상품 비교와 설명을 제공합니다.

---

✅ **제가 잘하는 것**
- 보험사별 상품의 담보 조건 비교
- 특정 질병·수술 보장 여부 확인 (O/X)
- 상품 구조와 차이점 설명
- 보장 한도·기간·지급 조건 비교

⚠️ **제가 못하는 것**
- 상품 추천 또는 "어떤 게 더 좋다" 판단
- 개인별 맞춤 보험료 계산 (예시 보험료만 제공 가능)
- 약관 법적 해석 또는 자문
- 현재 등록되지 않은 담보 비교

---

📋 **현재 비교 가능한 상품**
- 삼성생명 | 삼성 통합건강보험
- 메리츠화재 | 무배당 알파Plus 건강보험
- KB손해보험 | KB The건강보험
- 현대해상 | 현대해상 굿앤굿 건강보험
- (기타 5개 상품 등록됨)

---

💬 **시작하려면 아래 예시 질문을 클릭하거나, 자유롭게 질문해주세요!**
```

---

### 3.2 첫 질문 유도 예시 (3개)

#### 버튼 1: 상품 전체 비교
```
💬 "삼성생명과 메리츠 상품 전체 비교해줘"

→ 두 상품의 담보 구조, 보장 한도, 특징, 차이점을 종합 비교합니다.
```

#### 버튼 2: 특정 담보 비교
```
💬 "암진단비 담보를 보험사별로 비교해줘"

→ 특정 담보의 보장 한도, 기간, 지급 조건을 상품별로 비교합니다.
```

#### 버튼 3: 보장 여부 확인
```
💬 "표적항암치료가 보장되는 상품은?"

→ 특정 치료·수술이 보장 가능한 상품을 O/X로 확인하고 상세 비교합니다.
```

---

### 3.3 시스템 한계 명확화 문구 (FAQ 형태)

```
❓ 자주 묻는 질문 (FAQ)

Q1. "나한테 맞는 상품 추천해줘" 라고 하면?
A1. ❌ 추천은 제공하지 않습니다.
    대신, 비교 정보를 제공하니 직접 판단하시거나 설계사와 상담하세요.

Q2. "30세 남자 보험료 계산해줘" 라고 하면?
A2. ❌ 개인별 맞춤 계산은 불가능합니다.
    가입설계서 기준 "예시 보험료"만 비교용으로 제공 가능합니다.

Q3. "치아보험도 비교해줘" 라고 하면?
A3. ❌ 현재 등록된 30~40개 담보(건강보험 중심)만 비교 가능합니다.
    치아·운전자·여행자 보험은 현재 범위 밖입니다.

Q4. "이 약관 조항이 법적으로 유효한가요?" 라고 하면?
A4. ❌ 법적 해석이나 자문은 제공하지 않습니다.
    약관의 사실 내용만 비교·설명합니다.

Q5. "보험료가 저렴한 순서로 정렬해줘" 라고 하면?
A5. ⚠️ 예시 보험료 기준으로만 비교 가능합니다.
    실제 보험료는 개인 조건에 따라 크게 달라질 수 있으니
    "비교용 참고치"로만 활용하세요.
```

---

## 4. 응답 시 필수 포함 사항 (체크리스트)

모든 응답은 아래 규칙을 따릅니다:

### 4.1 구조
- [ ] **비교 대상 명시**: "보험사 | 상품명" 형식 사용
- [ ] **비교 표 중심**: 텍스트보다 표 우선
- [ ] **차이 요약 포함**: Bullet 형태로 핵심 차이점 명시
- [ ] **근거 문서 표시**: 약관/가입설계서 페이지 번호 포함

### 4.2 제한 사항
- [ ] **추천 금지**: "더 좋다", "추천드립니다" 표현 사용 금지
- [ ] **불확실성 명시**: 데이터가 없으면 "확인 불가" 명확히 표시
- [ ] **보험료 한계 경고**: 보험료 관련 응답은 "예시/참고용" 명시 필수
- [ ] **면책 조항**: 모든 응답 말미에 아래 문구 포함

```
⚠️ 본 비교 결과는 제공된 문서 기준의 정보 요약이며,
실제 가입 판단은 보험 약관 및 설계사를 통해 최종 확인이 필요합니다.
```

---

## 5. 데이터 기반 한계 정리 (투명성)

### 5.1 현재 DB에 존재하는 데이터
- ✅ 8개 보험사, 8개 상품
- ✅ 48개 canonical coverage (담보명mapping자료.xlsx 기준)
- ✅ 297개 coverage instance (matched: 218, unmatched: 79)
- ✅ 747개 evidence (약관/사업방법서/상품요약서/가입설계서에서 추출)
- ✅ 297개 amount fact (가입설계서 예시 금액)

### 5.2 현재 DB에 없는 데이터
- ❌ 개인별 보험료 계산 엔진
- ❌ 실시간 상품 업데이트 (최신성 보장 불가)
- ❌ Scope 외 담보 (치아, 운전자, 여행자 등)
- ❌ 약관 전문 해석 (법률 자문)
- ❌ 보험사 신뢰도, 고객 리뷰 등 정성적 정보

### 5.3 Unmatched 데이터 처리
- 현재 79개의 unmatched coverage instance 존재
- 이들은 가입설계서에는 있으나 canonical mapping에 없는 담보
- 응답 시:
  - "확인 불가" 또는 "문서에 명시되었으나 표준 담보 코드 매칭 불가"로 표시
  - 가능하면 원문 그대로 표시 (해석 금지)

---

## 6. UI 개발 시 고려사항 (다음 단계 참고용)

### 6.1 ChatGPT 스타일 대화형 UI
- 사용자 질문 입력창 (자유 텍스트)
- 예시 질문 버튼 (3~5개)
- 응답은 마크다운 렌더링 지원 (표, Bullet 등)
- 근거 문서 클릭 시 PDF 해당 페이지로 이동 (선택 기능)

### 6.2 응답 템플릿 엔진
- 예제 1~4 유형별 템플릿 고정
- DB 쿼리 결과 → 템플릿 자동 매핑
- LLM 사용 최소화 (사실 비교는 룰 기반 처리 우선)

### 6.3 에러 핸들링
- "현재 비교 불가" 메시지 명확화
- "다른 질문 시도" 유도 문구
- FAQ 자동 제시

---

## 7. 합의 확인 체크리스트

이 문서를 기반으로 다음 질문에 "예"라고 답할 수 있어야 합니다:

- [ ] 고객이 어떤 질문을 할 수 있는지 명확히 정의되었는가?
- [ ] 고객이 어떤 질문을 할 수 없는지 명확히 제한되었는가?
- [ ] 예제 1~4 유형의 응답 형태가 구체적으로 설계되었는가?
- [ ] 추천 금지 원칙이 모든 응답에 반영되었는가?
- [ ] 보험료 한계가 명확히 경고되었는가?
- [ ] 첫 화면 UX가 ChatGPT 스타일로 제안되었는가?
- [ ] 시스템이 "무엇을 잘하고 못하는지" 고객에게 투명하게 전달되는가?
- [ ] UI 개발 전에 필요한 합의 사항이 모두 문서화되었는가?

---

## 문서 승인 및 다음 단계

### 승인 체크
- [ ] 기획팀 검토 완료
- [ ] 개발팀 검토 완료
- [ ] 고객(내부 테스터) 검토 완료

### 다음 단계
1. **UI 프로토타입 개발** (이 문서 기준)
2. **RAG 쿼리 로직 구현** (DB → 응답 템플릿 매핑)
3. **예제 응답 검증** (실제 DB 데이터로 테스트)
4. **사용자 테스트** (내부)
5. **피드백 반영 및 수정**

---

**문서 버전**: v1.0
**작성일**: 2025-12-28
**최종 수정**: 2025-12-28
**다음 검토 예정**: UI 프로토타입 완성 후
